{{template "header"}}
<title>
    {{.Title}}
</title>
</head>
<body>
{{template "menu" .}}
<div class="container" style="max-width: 88%">
    <h1>
        分类列表
    </h1>
    <form method="GET" action="/category" class="form-horizontal">
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-1 control-label">
                分类名称
            </label>
            <div class="col-sm-10">
                <input id="name" name="name" type="Text" class="form-control" placeholder="分类名称"/>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-1 col-sm-10">
                <input type="hidden" name="op" value="add">
                <button type="submit" class="btn btn-default" onclick="return checkInput();">
                    添加
                </button>
            </div>
        </div>
    </form>
    <script type="text/javascript">
        function checkInput() {
        var name = document.getElementById('name');
        if (name.value.length == 0) {
        alert("请输入分类名");
        return false
        }
        }
    </script>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>
                    #
                </th>
                <th>
                    名称
                </th>
                <th>
                    文章数
                </th>
                <th>
                    操作
                </th>
            </tr>
        </thead>
        <tbody>
            {{range .Categories}}
            <tr>
                <th>
                    {{.Id}}
                </th>
                <th>
                    {{.Title}}
                </th>
                <th>
                    {{.TopicCount}}
                </th>
                <th>
                    <a href="/category?op=del&id={{.Id}}">
                        删除
                    </a>
                </th>
                {{end}}
            </tr>
        </thead>
    </tbody>
</div>
{{template "footer" .}}
